# ğŸ“ Student Management System Backend (FastAPI + MySQL)

A complete backend system built using **FastAPI**, **SQLAlchemy**, and **MySQL** for managing students, courses, enrollments, attendance, marks, GPA analytics, reporting, exporting, and email-based report delivery.

---

## ğŸš€ Features

### ğŸ” Authentication
- Admin login/register
- JWT Token-based authentication
- Protected APIs using dependency injection

### ğŸ‘¨â€ğŸ“ Student Management
- Add students
- Update students
- Delete students
- List students

### ğŸ“š Course Management
- Add courses
- Update courses
- Delete courses
- List courses

### ğŸ“ Enrollment Module
- Enroll students into courses
- Prevent duplicate enrollment
- View enrollments

### ğŸ“… Attendance Module
- Mark attendance for students
- Prevent duplicate attendance on same date
- View attendance by student/course

### ğŸ§¾ Marks Module (with Grade & Grade Points)
- Add marks
- Auto calculate:
  - Percentage
  - Grade
  - Grade Points
- Update marks and recalculate grade
- GPA support

### ğŸ“Š Reports Module
- Student report (attendance + marks + GPA)
- Course report
- Leaderboard report

### ğŸ“¤ Export Module
- Export leaderboard as Excel
- Export student report as PDF

### ğŸ“§ Email Module
- Send student report PDF to email using Gmail SMTP
- Uses Gmail App Password

### ğŸ“ˆ Analytics Module
- GPA-based leaderboard
- Students at risk (low GPA + attendance)
- Course performance analysis

### ğŸŒ± Seed Module
- Seed random students, courses, enrollments, marks, attendance
- Useful for demo/live testing

### ğŸ³ Docker Support
- MySQL + FastAPI backend using docker-compose

---

## ğŸ›  Tech Stack

- **FastAPI**
- **SQLAlchemy ORM**
- **MySQL**
- **Pydantic**
- **JWT Authentication**
- **Docker + Docker Compose**
- **OpenPyXL (Excel Export)**
- **ReportLab (PDF Export)**
- **SMTP (Email)**

---

## ğŸ“‚ Project Folder Structure

student-management-system/
â”‚
â”œâ”€â”€ app/
â”‚ â”œâ”€â”€ core/
â”‚ â”‚ â”œâ”€â”€ security.py
â”‚ â”‚ â”œâ”€â”€ auth_dependency.py
â”‚ â”‚ â”œâ”€â”€ grade_utils.py
â”‚ â”‚
â”‚ â”œâ”€â”€ models/
â”‚ â”‚ â”œâ”€â”€ student.py
â”‚ â”‚ â”œâ”€â”€ course.py
â”‚ â”‚ â”œâ”€â”€ enrollment.py
â”‚ â”‚ â”œâ”€â”€ attendance.py
â”‚ â”‚ â”œâ”€â”€ marks.py
â”‚ â”‚ â”œâ”€â”€ admin.py
â”‚ â”‚
â”‚ â”œâ”€â”€ routers/
â”‚ â”‚ â”œâ”€â”€ auth_router.py
â”‚ â”‚ â”œâ”€â”€ student_router.py
â”‚ â”‚ â”œâ”€â”€ course_router.py
â”‚ â”‚ â”œâ”€â”€ enrollment_router.py
â”‚ â”‚ â”œâ”€â”€ attendance_router.py
â”‚ â”‚ â”œâ”€â”€ marks_router.py
â”‚ â”‚ â”œâ”€â”€ report_router.py
â”‚ â”‚ â”œâ”€â”€ leaderboard_router.py
â”‚ â”‚ â”œâ”€â”€ export_router.py
â”‚ â”‚ â”œâ”€â”€ email_router.py
â”‚ â”‚ â”œâ”€â”€ analytics_router.py
â”‚ â”‚
â”‚ â”œâ”€â”€ schemas/
â”‚ â”‚ â”œâ”€â”€ student_schema.py
â”‚ â”‚ â”œâ”€â”€ course_schema.py
â”‚ â”‚ â”œâ”€â”€ enrollment_schema.py
â”‚ â”‚ â”œâ”€â”€ attendance_schema.py
â”‚ â”‚ â”œâ”€â”€ marks_schema.py
â”‚ â”‚ â”œâ”€â”€ report_schema.py
â”‚ â”‚ â”œâ”€â”€ leaderboard_schema.py
â”‚ â”‚
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â”œâ”€â”€ email_sender.py
â”‚ â”‚ â”œâ”€â”€ pdf_generator.py
â”‚ â”‚
â”‚ â”œâ”€â”€ database.py
â”‚ â”œâ”€â”€ main.py
â”‚ â”œâ”€â”€ seed_data.py
â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yaml
â”œâ”€â”€ .env
â”œâ”€â”€ .env.example
â””â”€â”€ README.md


---

## âš™ï¸ Installation & Setup (Local)

### 1ï¸âƒ£ Clone Repository
```bash
git clone https://github.com/your-username/student-management-system.git
cd student-management-system
2ï¸âƒ£ Create Virtual Environment
python -m venv venv
source venv/bin/activate     # Linux/Mac
venv\Scripts\activate        # Windows
3ï¸âƒ£ Install Dependencies
pip install -r requirements.txt
4ï¸âƒ£ Configure Environment Variables
Create .env file and add values:

DB_HOST=localhost
DB_USER=root
DB_PASSWORD=
DB_NAME=student_db

SECRET_KEY=your_secret_key

SMTP_EMAIL=your_email@gmail.com
SMTP_PASSWORD=your_gmail_app_password
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
â–¶ï¸ Run Application
uvicorn app.main:app --reload
Server runs at:

http://127.0.0.1:8000

Swagger docs:

http://127.0.0.1:8000/docs

ğŸŒ± Seed Random Data
python -m app.seed_data
This will seed:

Students

Courses

Enrollments

Attendance

Marks

ğŸ”‘ Authentication Usage
Login Endpoint
POST /api/auth/login

After login, Swagger will return:

{
  "access_token": "xxxxx",
  "token_type": "bearer"
}
Use this token in Swagger Authorize:

Bearer <token>
ğŸ“Œ API Endpoints Summary
Auth
POST /api/auth/register

POST /api/auth/login

Students
GET /api/students/

POST /api/students/

PUT /api/students/{id}

DELETE /api/students/{id}

Courses
GET /api/courses/

POST /api/courses/

PUT /api/courses/{id}

DELETE /api/courses/{id}

Enrollment
POST /api/enrollments/

GET /api/enrollments/

GET /api/enrollments/student/{student_id}

GET /api/enrollments/course/{course_id}

Attendance
POST /api/attendance/

GET /api/attendance/

GET /api/attendance/student/{student_id}

GET /api/attendance/course/{course_id}

PUT /api/attendance/{attendance_id}

DELETE /api/attendance/{attendance_id}

Marks
POST /api/marks/

GET /api/marks/

GET /api/marks/student/{student_id}

GET /api/marks/course/{course_id}

PUT /api/marks/{marks_id}

DELETE /api/marks/{marks_id}

Reports
GET /api/reports/student/{student_id}

GET /api/reports/course/{course_id}

GET /api/reports/leaderboard

Export
GET /api/export/leaderboard/excel

GET /api/export/student-report/{student_id}/pdf

Email
POST /api/email/student-report/{student_id}?to_email=example@gmail.com

Analytics
GET /api/analytics/students-at-risk

GET /api/analytics/course-performance/{course_id}

GET /api/analytics/overall-summary

ğŸ“§ Gmail SMTP Setup
To use Gmail SMTP, you must generate an App Password:

Enable 2-Step Verification in Google Account

Go to App Passwords

Generate password for "Mail"

Use that password in .env

Example:

SMTP_EMAIL=your_email@gmail.com
SMTP_PASSWORD=xxxx xxxx xxxx xxxx
ğŸ³ Docker Deployment (Local)
Run using docker compose
docker compose up --build
Backend will run on:

http://localhost:8000

MySQL will run on:

localhost:3307

ğŸ”¥ Notes
All APIs are protected except login/register

Attendance prevents duplicates for same date

Marks module automatically calculates grade & GPA

Leaderboard is GPA based

ğŸ“Œ Future Enhancements
Frontend React Dashboard

Admin role permissions

Student login support

Advanced analytics charts

Notifications system

ğŸ‘¨â€ğŸ’» Author
Developed by Durvish ğŸš€


---